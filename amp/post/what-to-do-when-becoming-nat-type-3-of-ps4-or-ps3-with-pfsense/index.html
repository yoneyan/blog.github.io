<!DOCTYPE html>
<html ⚡>
  <head>
    <meta charset="utf-8">
<meta name="pinterest" content="nopin">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="theme-color" content="#263238">

<meta name="generator" content="Hugo 0.59.1" />

<link rel="apple-touch-icon" href="https://yoneyan.dev/images/logo.png">


<link rel="canonical" type="text/html" href="https://yoneyan.dev/post/what-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense/" title="のんびりと生きたい">




    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-twitter" src="https://cdn.ampproject.org/v0/amp-twitter-0.1.js"></script>
    <script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>
    <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
    <meta name="amp-google-client-id-api" content="googleanalytics">
    

    
    <link href="https://fonts.googleapis.com/css?family=Lobster%7cLato:400,700" rel="stylesheet">
    
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <title>pfsenseでPS4やPS3のNATタイプ3になる際の対処法 - のんびりと生きたい</title>
    
<meta name="description" content="最近自作ルーターを構築して、WebGUIで管理できるpfsenseというOSインストールして使っている筆者です。
pfsenseを構築したことで安定性がかなり上がったのですが、一つ問題が発生しました。それはPS3とPS4のオンライン機能です。pfsenseにしたことで、NATタイプ3になってしまい、オンラインで遊ぶ時に支障を来し始めたので、その対処法を紹介させていただきます。
NATタイプとは？ PSにはネットワークの判別方法としてNATタイプというものがあります。
NATタイプには以下の種類があります。
 NATタイプ1 NATタイプ2 NATタイプ3  NATタイプ1とは？ PPPoE接続している際に表示されます。ルーターに接続せずに直で刺している状況です。
普通はルーターに接続しているのでこのような場合はほぼないでしょうｗ
NATタイプ2とは？ 一つのルーターを使ってアドレス変換ができている状況です。
NATタイプ3とは？ 複数のルーターを経由して接続されている状況です。
IPマスカレードで接続している場合でもこの表示が出ます。
大体、この接続の場合はPSNのオンライン機能に一部に制限が発生する場合があります。
自分の場合はパーティーのボイスチャットができなくなるという支障が出ました。
NATタイプ何ならいいのか？ NATタイプ1とNATタイプ2であればPSのオンライン機能を支障が起こることなく楽しめます。
NATタイプ3の場合は上でも書いてる通り、オンライン機能の一部に支障をきたすことになります。
pfsenseの設定していく 1.Firewall-&gt;NAT-&gt;Outboundの設定 Outbound NAT Modeの設定    Hybrid Outbound NAT を選択して、Saveしてください。
Mappingsの設定    Addをクリックする
   上の通りに設定する。
Sourceは自分のIPアドレスを設定
入力が終わると、Saveして保存する
   この通りになっているか確認してApply Settingする。
2.Services-&gt;UPnP &amp; NAT-PMPの設定 UPnP &amp; NAT-PMP　Settingの設定    このように設定します。
注意点としてはLog packetsとDefault Denyを有効にしてください。
UPnP Access Control Listsの設定    設定例としてはこんな感じになりますう。">

<meta property="og:title" content="pfsenseでPS4やPS3のNATタイプ3になる際の対処法 - のんびりと生きたい">
<meta property="og:type" content="article">
<meta property="og:url" content="https://yoneyan.dev/amp/post/what-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense/">
<meta property="og:image" content="https://yoneyan.dev/images/free_images/router_1.jpg">
<meta property="og:site_name" content="のんびりと生きたい">
<meta property="og:description" content="最近自作ルーターを構築して、WebGUIで管理できるpfsenseというOSインストールして使っている筆者です。
pfsenseを構築したことで安定性がかなり上がったのですが、一つ問題が発生しました。それはPS3とPS4のオンライン機能です。pfsenseにしたことで、NATタイプ3になってしまい、オンラインで遊ぶ時に支障を来し始めたので、その対処法を紹介させていただきます。
NATタイプとは？ PSにはネットワークの判別方法としてNATタイプというものがあります。
NATタイプには以下の種類があります。
 NATタイプ1 NATタイプ2 NATタイプ3  NATタイプ1とは？ PPPoE接続している際に表示されます。ルーターに接続せずに直で刺している状況です。
普通はルーターに接続しているのでこのような場合はほぼないでしょうｗ
NATタイプ2とは？ 一つのルーターを使ってアドレス変換ができている状況です。
NATタイプ3とは？ 複数のルーターを経由して接続されている状況です。
IPマスカレードで接続している場合でもこの表示が出ます。
大体、この接続の場合はPSNのオンライン機能に一部に制限が発生する場合があります。
自分の場合はパーティーのボイスチャットができなくなるという支障が出ました。
NATタイプ何ならいいのか？ NATタイプ1とNATタイプ2であればPSのオンライン機能を支障が起こることなく楽しめます。
NATタイプ3の場合は上でも書いてる通り、オンライン機能の一部に支障をきたすことになります。
pfsenseの設定していく 1.Firewall-&gt;NAT-&gt;Outboundの設定 Outbound NAT Modeの設定    Hybrid Outbound NAT を選択して、Saveしてください。
Mappingsの設定    Addをクリックする
   上の通りに設定する。
Sourceは自分のIPアドレスを設定
入力が終わると、Saveして保存する
   この通りになっているか確認してApply Settingする。
2.Services-&gt;UPnP &amp; NAT-PMPの設定 UPnP &amp; NAT-PMP　Settingの設定    このように設定します。
注意点としてはLog packetsとDefault Denyを有効にしてください。
UPnP Access Control Listsの設定    設定例としてはこんな感じになりますう。">
<meta property="og:locale" content="ja_JP">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="のんびりと生きたい">
<meta name="twitter:url" content="https://yoneyan.dev/amp/post/what-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense/">
<meta name="twitter:title" content="pfsenseでPS4やPS3のNATタイプ3になる際の対処法 - のんびりと生きたい">
<meta name="twitter:description" content="最近自作ルーターを構築して、WebGUIで管理できるpfsenseというOSインストールして使っている筆者です。
pfsenseを構築したことで安定性がかなり上がったのですが、一つ問題が発生しました。それはPS3とPS4のオンライン機能です。pfsenseにしたことで、NATタイプ3になってしまい、オンラインで遊ぶ時に支障を来し始めたので、その対処法を紹介させていただきます。
NATタイプとは？ PSにはネットワークの判別方法としてNATタイプというものがあります。
NATタイプには以下の種類があります。
 NATタイプ1 NATタイプ2 NATタイプ3  NATタイプ1とは？ PPPoE接続している際に表示されます。ルーターに接続せずに直で刺している状況です。
普通はルーターに接続しているのでこのような場合はほぼないでしょうｗ
NATタイプ2とは？ 一つのルーターを使ってアドレス変換ができている状況です。
NATタイプ3とは？ 複数のルーターを経由して接続されている状況です。
IPマスカレードで接続している場合でもこの表示が出ます。
大体、この接続の場合はPSNのオンライン機能に一部に制限が発生する場合があります。
自分の場合はパーティーのボイスチャットができなくなるという支障が出ました。
NATタイプ何ならいいのか？ NATタイプ1とNATタイプ2であればPSのオンライン機能を支障が起こることなく楽しめます。
NATタイプ3の場合は上でも書いてる通り、オンライン機能の一部に支障をきたすことになります。
pfsenseの設定していく 1.Firewall-&gt;NAT-&gt;Outboundの設定 Outbound NAT Modeの設定    Hybrid Outbound NAT を選択して、Saveしてください。
Mappingsの設定    Addをクリックする
   上の通りに設定する。
Sourceは自分のIPアドレスを設定
入力が終わると、Saveして保存する
   この通りになっているか確認してApply Settingする。
2.Services-&gt;UPnP &amp; NAT-PMPの設定 UPnP &amp; NAT-PMP　Settingの設定    このように設定します。
注意点としてはLog packetsとDefault Denyを有効にしてください。
UPnP Access Control Listsの設定    設定例としてはこんな感じになりますう。">
<meta name="twitter:image" content="https://yoneyan.dev/images/free_images/router_1.jpg">


<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "NewsArticle",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id":"https:\/\/yoneyan.dev\/"
    },
    "headline": "pfsenseでPS4やPS3のNATタイプ3になる際の対処法-のんびりと生きたい",
    "image": {
      "@type": "ImageObject",
      "url": "https:\/\/yoneyan.dev\/images\/free_images\/router_1.jpg",
      "height": 800,
      "width": 800
    },
    "datePublished": "2018-01-18T12:01:34JST",
    "dateModified": "2018-01-18T12:01:34JST",
    "author": {
      "@type": "Person",
      "name": "のんびりと生きたい"
    },
    "publisher": {
      "@type": "Organization",
      "name": "のんびりと生きたい",
      "logo": {
        "@type": "ImageObject",
        "url": "https:\/\/yoneyan.dev\/images/logo.png",
        "width": 600,
        "height": 60
      }
    },
    "description": "最近自作ルーターを構築して、WebGUIで管理できるpfsenseというOSインストールして使っている筆者です。\npfsenseを構築したことで安定性がかなり上がったのですが、一つ問題が発生しました。それはPS3とPS4のオンライン機能です。pfsenseにしたことで、NATタイプ3になってしまい、オンラインで遊ぶ時に支障を来し始めたので、その対処法を紹介させていただきます。\nNATタイプとは？ PSにはネットワークの判別方法としてNATタイプというものがあります。\nNATタイプには以下の種類があります。\n NATタイプ1 NATタイプ2 NATタイプ3  NATタイプ1とは？ PPPoE接続している際に表示されます。ルーターに接続せずに直で刺している状況です。\n普通はルーターに接続しているのでこのような場合はほぼないでしょうｗ\nNATタイプ2とは？ 一つのルーターを使ってアドレス変換ができている状況です。\nNATタイプ3とは？ 複数のルーターを経由して接続されている状況です。\nIPマスカレードで接続している場合でもこの表示が出ます。\n大体、この接続の場合はPSNのオンライン機能に一部に制限が発生する場合があります。\n自分の場合はパーティーのボイスチャットができなくなるという支障が出ました。\nNATタイプ何ならいいのか？ NATタイプ1とNATタイプ2であればPSのオンライン機能を支障が起こることなく楽しめます。\nNATタイプ3の場合は上でも書いてる通り、オンライン機能の一部に支障をきたすことになります。\npfsenseの設定していく 1.Firewall-\x26gt;NAT-\x26gt;Outboundの設定 Outbound NAT Modeの設定    Hybrid Outbound NAT を選択して、Saveしてください。\nMappingsの設定    Addをクリックする\n   上の通りに設定する。\nSourceは自分のIPアドレスを設定\n入力が終わると、Saveして保存する\n   この通りになっているか確認してApply Settingする。\n2.Services-\x26gt;UPnP \x26amp; NAT-PMPの設定 UPnP \x26amp; NAT-PMP　Settingの設定    このように設定します。\n注意点としてはLog packetsとDefault Denyを有効にしてください。\nUPnP Access Control Listsの設定    設定例としてはこんな感じになりますう。"
  }
</script>


    <style amp-custom>
html {
  font-size: 18px;
  background-color: rgba(236,239,241,.5);
}

@media (max-width: 768px) {
  html {
    font-size: 15px;
  }
}

body {
  color: #333;
  font-family: 'Roboto Slab','ヒラギノ角ゴ Pro W3','Hiragino Kaku Gothic Pro',メイリオ,Meiryo,sans-serif;
  font-feature-settings : "palt";
  font-size: inherit;
  line-height: 1rem;
  margin: 0;
  padding: 0;
}

h1, h2, h3, h4, h5 ,h6 {
  font-size: 1rem;
  font-weight: 700;
  line-height: 1rem;
  margin: 0;
}

hr {
  border: 0;
  border-top: 1px dashed #cfd8dc;
  margin: 1rem 0;
}

p {
  margin: 0;
  line-height: 1rem;
}

a {
  color: #2196f3;
  text-decoration: none;
  transition-duration: .3s;
}

ul, ol {
  margin: 0;
  padding: 0;
}

table {
  border-collapse: collapse;
}

th, td {
  font-size: .8rem;
  padding: .5rem;
}

tr {
  border-bottom: 1px dashed #ddd;
}

/* Layouts */
main,
aside {
  display: block;
}

main { padding: 1rem 0 3rem 0; }
aside.h { padding: 3rem 0; }

main.f,
aside.f {
  background-color: #333;
  border-top: 2px dashed #fff;
  border-bottom: 2px dashed #fff;
}

.l-container {
  position: relative;
  max-width: 68rem;
  margin: 0 auto;
  padding: 0 1rem;
}

.l-container.thin {
  max-width: 44rem;
}

.l-header {
  background-color: #fff;
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  padding: 1rem 0;
  text-align: center;
}

.l-header .description {
  margin-top: .5rem;
  font-size: .8rem;
}

.l-footer {
  background-color: #fff;
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  font-size: .6rem;
  font-weight: 700;
  padding: 1rem 0;
}

@media (max-width: 768px) {
  .l-sidebar {
    margin-top: 4rem;
  }
}

.mrow {
  margin: 0 -1rem;
  overflow: hidden;
}

.mcol {
  box-sizing: border-box;
  float: left;
  padding: 0 1rem;
}

.c6 { width: 50%; }
.c4 { width: 33.26323833%; }
.c8 { width: 66.66666%; }

@media (max-width: 768px) {
  .mcol {
    width: 100%;
    float: none;
  }
}

.logo a {
  font-size: 1.4rem;
  line-height: 1.5rem;
  font-weight: 700;
  color: #333;
}

.articles {
  margin: -1rem 0;
  margin-bottom: 1rem;
}

.articles.sm {
  margin: -.5rem 0;
  margin-bottom: 0;
}

article {
  border-radius: 4px;
  overflow: hidden;
}

article.li {
  background-color: #fff;
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  height: 20rem;
  overflow: hidden;
  margin: 1rem 0;
}

article.li > a {
  display: block;
  color: #333;
}

article.li .inner {
  padding: 1rem;
}

article.li .thumb {
  height: 8rem;
}

article.li .title {
  color: #333;
  font-size: 1.2rem;
  line-height: 1.5rem;
  margin-bottom: .5rem;
}

article.li .summary {
  font-size: .8rem;
  height: 6rem;
  overflow: hidden;
  margin-top: 1rem;
}

article.li .summary::after {
  content: '...';
}

article.lism {
  background-color: #fff;
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  margin: .5rem 0;
}

article.lism::after {
  content: '';
  display: block;
  clear: both;
}

article.lism > a {
  display: block;
  color: #333;
}

article.lism .inner {
  display: table-cell;
  vertical-align: middle;
  height: 5rem;
  padding: 0 .75rem;
}

article.lism .thumb {
  width: 5rem;
  height: 5rem;
  float: left;
}

article.lism .title {
  font-weight: 700;
  font-size: .8rem;
  margin-bottom: .25rem;
}

article.sn {
  background-color: #fff;
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  margin-bottom: 1rem;
}

article.sn .thumb {
  height: 20rem;
}

@media (max-width: 768px) {
  article.sn .thumb {
    height: 10rem;
  }
}

article.sn > .article-header,
article.sn > .article-body,
article.sn .article-footer {
  padding: 2rem;
}

article.sn > .article-body {
  padding: 0 2rem;
}

@media (max-width: 768px) {
  article.sn > .article-header,
  article.sn > .article-body,
  article.sn .article-footer {
    padding: 1rem;
  }

  article.sn > .article-body {
    padding: 0 1rem;
  }
}

article.sn > .article-header .title {
  font-size: 1.8rem;
  line-height: 2rem;
  margin-bottom: .5rem;
}

@media (max-width: 768px) {
  article.sn > .article-header .title {
    font-size: 1.4rem;
    line-height: 1.5rem;
  }
}

article.sn > .article-header .facts {
  margin-bottom: 1rem;
}

article.sn > .article-body {
  margin-bottom: 1.5rem;
}

article.sn > .article-body h2 {
  border-bottom: .25rem solid #333;
  font-size: 1.2rem;
  line-height: 1.5rem;
  margin: 1.5rem 0;
  padding: .5rem 0;
}

article.sn > .article-body h3 {
  border-left: .5rem solid #333;
  line-height: 1.5rem;
  margin: 1.5rem 0;
  padding: .125rem .5rem;
}

article.sn > .article-body ul,
article.sn > .article-body ol {
  margin: 1.5rem 0;
  padding-left: 1.5rem;
}

article.sn > .article-body li {
  padding-bottom: .5rem;
  line-height: 1.5rem;
}

article.sn > .article-body li:last-child {
  padding-bottom: 0;
}
article.sn > .article-body p {
  margin: 1rem 0;
  line-height: 1.5rem;
}

article.sn > .article-body strong,
article.sn > .article-body em {
  font-style: normal;
  font-weight: 700;
}

article.sn > .article-body strong {
  box-shadow: 0 -.5rem 0 0 #ffc107 inset;
}

article.sn > .article-body em {
  color: #8bc34a;
}

article.sn > .article-body code,
article.sn > .article-body pre {
  font-family: Menlo, Consolas, monospace;
  font-size: .7rem;
}

article.sn > .article-body pre {
  background-color: #333;
  color: #fff;
  line-height: 1rem;
  margin: 1.5rem -2rem;
  overflow: auto;
}

@media (max-width: 768px) {
  article.sn > .article-body pre {
    margin: 1.5rem -1rem;
  }
}

article.sn > .article-body pre > code {
  display: block;
  padding: 1rem 2rem;
}

@media (max-width: 768px) {
  article.sn > .article-body pre > code {
    padding: 1rem;
  }
}

article.sn > .article-body p code {
  background-color: #eceff1;
  color: #333;
  border-radius: 4px;
  margin: 0 .25rem;
  padding: .375rem;
  white-space: nowrap;
}

article.sn > .article-body blockquote {
  position: relative;
  border-left: .25rem solid #333;
  font-size: .8rem;
  padding: .125rem 1rem;
  margin: 1.5rem 0;
}

@media (max-width: 768px) {
  article.sn > .article-body blockquote {
    font-size: 1rem;
  }
}

article.sn > .article-body blockquote p {
  margin: .5rem 0;
  line-height: 1rem;
}

article.sn > .article-body figure {
  margin: 1.5rem 0;
}

article.sn > .article-body img,
article.sn > .article-body figure img,
article.sn > .article-body figure amp-img {
  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
  max-width: 100%;
}

article.sn > .article-body figcaption {
  color: #cfd8dc;
  font-size: .8rem;
  font-weight: 700;
  margin-top: .5rem;
}

.facts li {
  display: inline;
  font-size: .8rem;
  margin-right: 1rem;
}

.facts i {
  color: #cfd8dc;
  margin-right: .5em;
}

.facts.sm li {
  font-size: .7rem;
}

.sections.sidebar {
  margin: -1rem 0;
}

.sections.footer {
  margin: -1rem 0;
}

section.sidebar {
  margin: 2rem 0;
}

section.sidebar > header {
  font-size: .8rem;
  font-weight: 700;
  letter-spacing: 4px;
  text-align: center;
  margin: 1.5rem 0;
}

section.footer {
  margin: 1rem 0;
}

section.footer > header {
  font-size: .8rem;
  margin: .5rem 0;
}

section.footer > header::before {
  content: "- ";
}

section.footer > header a {
  font-weight: 700;
  color: #333;
  text-decoration: underline;
}

.terms {
  margin: -.25rem;
}

.terms li {
  display: inline-block;
}

.terms a {
  display: block;
  float: left;
  background-color: #333;
  border-radius: 4px;
  color: #fff;
  font-size: .7rem;
  margin: .25rem;
  padding: 0 .75rem;
  line-height: 1.75rem;
}

.paging {
  text-align: center;
  padding: 1rem 0;
}

.paging a {
  display: inline-block;
  background-color: #fff;
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  border-radius: 4px;
  color: #333;
  padding: 0 1rem;
  line-height: 3rem;
}

.page-title {
  text-align: center;
  margin: 1rem 0;
}

.page-title::after {
  content: '';
  display: block;
  border-bottom: .25rem solid #333;
  width: 3rem;
  margin: 1.5rem auto;
}

.page-title > .title {
  font-size: 1.2rem;
  line-height: 1.5rem;
}

/* Parts:breadcrumb */
.crumb ol {
  text-overflow: ellipsis;
  color: #cfd8dc;
  white-space: nowrap;
  overflow: hidden;
}

.crumb li {
  display: inline;
  font-size: .8rem;
}

.crumb li::after {
  content: '›';
  margin: 0 .25rem 0 .5rem;
}

.crumb li:last-child::after {
  content: '';
}

.crumb a {
  color: #cfd8dc;
}

.crumb i {
  margin-right: .5em;
}

.share {
  padding: 0;
}

.share a {
  display: inline-block;
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  min-width: 1rem;
  height: 2rem;
  border-radius: 4px;
  color: #333;
  font-size: .8rem;
  font-weight: 700;
  line-height: 2rem;
  text-align: center;
  padding: 0 .5rem;
}

.adj article.lism {
  margin-bottom: 1rem;
}

.adj header {
  font-weight: 700;
  font-size: .8rem;
}

.toc {
  padding: 0 2rem;
}

@media (max-width: 768px) {
  .toc {
    padding: 0 1rem;
  }
}

.toc {
  margin: 1rem 0;
}

.toc nav>ul {
  background-color: #eceff1;
  border-radius: 4px;
  display: inline-block;
  font-size: .8rem;
  padding: .5rem 1rem;
  word-break: break-all;
  list-style: none;
}

.toc ul {
  padding: 0;
}

.toc ul ul {
  padding-left: 1rem;
}

.toc ul ul ul {
  padding-left: 1rem;
}

.toc li {
  color: #90a4ae;
}

.toc ul ul>li {
  font-weight: 700;
  margin: .5rem 0;
  list-style-type: decimal;
}

.toc ul ul ul>li {
  list-style-type: disc;
  font-weight: 500;
}

.author {
  background-color: #fff;
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  padding: 1rem;
  border-radius: 4px;
  text-align: center;
}

.author .author-thumb {
  margin: 0 auto 1rem;
  width: 6rem;
  height: 6rem;
  border-radius: 50%;
  background-color: #eceff1;
  background-size: cover;
  background-position: center;
}

.author .author-name {
  margin-bottom: .5rem;
  font-weight: 700;
}

.author .author-facts {
  margin-bottom: 1rem;
}

.author .author-facts li {
  display: inline;
}

.author .author-facts li a {
  display: inline-block;
  background-color: #eceff1;
  width: 1.75rem;
  height: 1.75rem;
  line-height: 1.75rem;
  text-align: center;
  color: #333;
  font-size: .8rem;
  border-radius: 2px;
}

.author .author-facts li a:hover {
  color: #fff;
  background-color: #333;
}

.author .author-description {
  text-align: left;
  font-size: .8rem;
}

.author .author-description p {
  margin: .5rem 0;
}

.thumb {
  background-image: url(https://yoneyan.dev/images/default.jpg);
  background-size: cover;
  background-position: center;
}



.thumb-f83a755fd9853572aad6c42556448636 {
  background-image: url(https://yoneyan.dev/images/server/home/2019/09/ipphone.jpg);
}



.thumb-2a85ed102c559293842df029813a72bc {
  background-image: url(https://yoneyan.dev/images/server/home/2019/09/serverroom.jpg);
}



.thumb-07ba3fd37d86fe46e203f7f731958e4c {
  background-image: url(https://yoneyan.dev/images/server/home/2019/09/homeserver.jpg);
}



.thumb-e20d89de9d63f010b864a4aa4cc9f427 {
  background-image: url(https://yoneyan.dev/images/server/home/2019/08/serverroomhub2.jpg);
}



.thumb-3117ae926654c7379796cde55648a2af {
  background-image: url(https://yoneyan.dev/images/free_images/network_1.jpg);
}



.thumb-7086bb320ca9856c8ec3b5f203b229dc {
  background-image: url(https://yoneyan.dev/images/free_images/warning_1.png);
}



.thumb-916b8872f5a6f383f9a53c9fde635b40 {
  background-image: url(https://yoneyan.dev/images/free_images/network_1.jpg);
}



.thumb-e5391359808129446d26bf6265cdf30a {
  background-image: url(https://yoneyan.dev/images/server/home/2019/09/switch.jpg);
}



.thumb-b44df70d4c3bb3d0b31b654db3e85018 {
  background-image: url(https://yoneyan.dev/images/server/home/2019/09/UPS.jpg);
}



.thumb-f6e23c74cac6978270803fe7e3aa4b0c {
  background-image: url(https://yoneyan.dev/images/free_images/network_1.jpg);
}



.thumb-f5c625c929849ccc2e04021cc141f295 {
  background-image: url(https://yoneyan.dev/images/review/gpdmicro/1.jpg);
}



.thumb-1793353749ce340d46b74c0d59b7102a {
  background-image: url(https://yoneyan.dev/images/free_images/sim_1.png);
}



.thumb-9af898284256103aa6c61dc7d3385f23 {
  background-image: url(https://yoneyan.dev/images/myself/broken_x230/edge.jpg);
}



.thumb-f9f9bb81846bcc45f3b609adff291fe3 {
  background-image: url(https://yoneyan.dev/images/free_images/ssl_1.jpg);
}



.thumb-9a93ffa9516cec8ca70b97882cc89d19 {
  background-image: url(https://yoneyan.dev/images/free_images/hdd_1.png);
}



.thumb-37673ceb953b148384b6e643b48c1ea0 {
  background-image: url(https://yoneyan.dev/images/free_images/hdd_1.png);
}



.thumb-bb2a214cda9cb130d9bed9c7cbfc8372 {
  background-image: url(https://yoneyan.dev/images/free_images/hdd_1.png);
}



.thumb-33527f429c53262b59dd9eb48ea0a686 {
  background-image: url(https://yoneyan.dev/images/free_images/vpn_1.jpg);
}



.thumb-bfcedb73215949b2616a5df5ba3744f4 {
  background-image: url(https://yoneyan.dev/images/server/home/2019/09/FCSwitch.jpg);
}



.thumb-6ea90e529ebc98de2739fad5f005bdd6 {
  background-image: url(https://yoneyan.dev/images/server/home/2019/09/switch.jpg);
}



.thumb-eae1bfaf492ad7af34689bb252d299c2 {
  background-image: url(https://yoneyan.dev/images/free_images/hdd_1.png);
}



.thumb-47fc8fa2a0b30b777f97e83a093989d7 {
  background-image: url(https://yoneyan.dev/images/free_images/tv_1.png);
}



.thumb-f36f9407596208cf49fea5da9719a479 {
  background-image: url(https://yoneyan.dev/images/free_images/router_1.jpg);
}



.thumb-e4adede97234f17a19cf117ee40e89f5 {
  background-image: url(https://yoneyan.dev/images/free_images/router_1.png);
}



.thumb-94668b7a1ba8892182e26abcd979b943 {
  background-image: url(https://yoneyan.dev/images/free_images/router_1.jpg);
}



.thumb-2a6c29eb9ffe9676a41b2337e39ce0cd {
  background-image: url(https://yoneyan.dev/images/free_images/stop_1.png);
}



.thumb-ee61cc8e1908077be6f06acc8d46356c {
  background-image: url(https://yoneyan.dev/images/free_images/router_1.jpg);
}



.thumb-680002304cb445f1b81debf30fed3333 {
  background-image: url(https://yoneyan.dev/images/free_images/server_1.jpg);
}



.thumb-f979e5873acf1746295363cb1f49ca37 {
  background-image: url(https://yoneyan.dev/images/free_images/wordpress.jpg);
}



.thumb-af52aa9af4225045cc566d54dee14483 {
  background-image: url(https://yoneyan.dev/images/server/home/2019/08/serverroomhub2.jpg);
}



.thumb-1b3694e31c6e8350e0fc49c085f23c00 {
  background-image: url(https://yoneyan.dev/images/free_images/vpn_1.jpg);
}



.thumb-937409701cde51150a09041f7a30c8ae {
  background-image: url(https://yoneyan.dev/images/free_images/vpn_1.jpg);
}



.thumb-b464004dd9fa2cbcac787360a0110996 {
  background-image: url(https://yoneyan.dev/images/free_images/north-korea.jpg);
}



.thumb-80777496656477bf6615e08ccf9d2f7a {
  background-image: url(https://yoneyan.dev/images/server/home/2019/09/night.jpg);
}



.thumb-f4ba660c2ff14013bae998dd48b979cd {
  background-image: url(https://yoneyan.dev/images/free_images/vm.png);
}



.thumb-50483c79ff61b62341ddbb0fe4102f2c {
  background-image: url(https://yoneyan.dev/images/free_images/vm.png);
}



.thumb-3b268b99ebd6f104f593d6af4c39f9ec {
  background-image: url(https://yoneyan.dev/images/server/home/2019/09/homeAP.jpg);
}



.thumb-bc403f43fa14bc4fc1f27b7388b24da0 {
  background-image: url(https://yoneyan.dev/images/server/home/2018/06/network.jpg);
}



.thumb-cae066edf7affdcf5a08bb11627ed18c {
  background-image: url(https://yoneyan.dev/images/free_images/hdd_1.png);
}



.thumb-1753fbec006ba9c2679ee447527edc92 {
  background-image: url(https://yoneyan.dev/images/server/home/2018/06/network.jpg);
}



.thumb-a604eee1a619bfc9841b5b3b824420e6 {
  background-image: url(https://yoneyan.dev/images/app/server/nmtui/nmtui-interface.png);
}



.thumb-fa19de21998237e94faf8f5c0aa5a124 {
  background-image: url(https://yoneyan.dev/images/free_images/server_1.jpg);
}



.thumb-d73c73655efa2bdfcdf2ca7208398360 {
  background-image: url(https://yoneyan.dev/images/server/hardware/brade/blade8.jpg);
}



.thumb-b70e6d932f25d3112d9cd29eb2abf88e {
  background-image: url(https://yoneyan.dev/images/free_images/server_1.jpg);
}



.thumb-f3df56baeef42f26e5bafb3b18324804 {
  background-image: url(https://yoneyan.dev/images/free_images/cloud_1.png);
}



.thumb-3ee55f2024d3edfef2570b7784098807 {
  background-image: url(https://yoneyan.dev/images/fix/silent/RX300_S6/server_after.jpg);
}



.thumb-644e4dbadcc2f256fdc38d79e8698382 {
  background-image: url(https://yoneyan.dev/images/free_images/phone.jpg);
}



.thumb-a0e14804919b7473144186db2cffff87 {
  background-image: url(https://yoneyan.dev/images/free_images/vpn_1.jpg);
}



.thumb-793d7eda7fd4daf200dcfc92705238a1 {
  background-image: url(https://yoneyan.dev/images/free_images/graph_1.jpg);
}



.thumb-fcc6b6a748248ba665f1208e2cde96ff {
  background-image: url(https://yoneyan.dev/images/free_images/wifi_1.jpg);
}



.thumb-efab3ca6cb492519cd9130c2087724fc {
  background-image: url(https://yoneyan.dev/images/free_images/wifi_1.jpg);
}



.thumb-e609f839254c60896d411665e71c8256 {
  background-image: url(https://yoneyan.dev/images/free_images/cloud_1.jpg);
}



.thumb-d2b93cf49d51b47b0a8699fc8c777bcc {
  background-image: url(https://yoneyan.dev/images/free_images/vpn_1.jpg);
}



.thumb-1ef0bb421f7b938aca9f8a04dc80741a {
  background-image: url(https://yoneyan.dev/images/free_images/router_1.jpg);
}



.thumb-8f047839945817489d5ec619d57d45ca {
  background-image: url(https://yoneyan.dev/images/free_images/remote-game.jpg);
}



.thumb-51aa8682072ac76c5dbdc378e301c1dd {
  background-image: url(https://yoneyan.dev/images/free_images/remote_game.jpg);
}



.thumb-1d31a530fca6ba9bac31d1c521063cb2 {
  background-image: url(https://yoneyan.dev/images/free_images/pc_1.jpg);
}



.thumb-15230553a080c3fa1f66d36653f37545 {
  background-image: url(https://yoneyan.dev/images/free_images/router_1.jpg);
}



.thumb-517b49f7b5f98589a74d73a69ae0d0a1 {
  background-image: url(https://yoneyan.dev/images/free_images/.jpg);
}



.thumb-93b08f3e655d2f75a7dcbfee7d2854d2 {
  background-image: url(https://yoneyan.dev/images/free_images/.jpg);
}



.thumb-76f363c955870f25c95425cf40ef6909 {
  background-image: url(https://yoneyan.dev/images/free_images/pc_1.jpg);
}



.thumb-3cf301221e65f40ba426c78b49d44074 {
  background-image: url(https://yoneyan.dev/images/free_images/app_2.jpg);
}



.thumb-6ec9847ecfb94e990c39d0fb44f19ddd {
  background-image: url(https://yoneyan.dev/images/free_images/.jpg);
}



.thumb-7faf8972334dcccef0280b6eee771176 {
  background-image: url(https://yoneyan.dev/images/free_images/windows.jpg);
}



.thumb-6c6850d5fad90f311748de35efc15184 {
  background-image: url(https://yoneyan.dev/images/free_images/game_2.jpg);
}



.thumb-221ba4e62da2fe31b813f611022ee4cd {
  background-image: url(https://yoneyan.dev/images/free_images/.jpg);
}



.thumb-8d2d1d0360723622a7798727ffc650b7 {
  background-image: url(https://yoneyan.dev/images/free_images/.jpg);
}



.thumb-29f3860febd4e50d8685351037210d62 {
  background-image: url(https://yoneyan.dev/images/free_images/.jpg);
}



.thumb-733906d206316cb4aff85734b62fa2e6 {
  background-image: url(https://yoneyan.dev/images/free_images/mail_1.png);
}



.thumb-1d7806e2b818864269fe9d8d69fc1a59 {
  background-image: url(https://yoneyan.dev/images/free_images/.jpg);
}



.thumb-73433e3db16c9e7b2700f16189366f90 {
  background-image: url(https://yoneyan.dev/images/free_images/.jpg);
}



.thumb-8173a5b53ecaf210b93bed9af449d3d6 {
  background-image: url(https://yoneyan.dev/images/free_images/router_1.jpg);
}



.thumb-977970388824334fe4ed36ecf1990186 {
  background-image: url(https://yoneyan.dev/images/free_images/.jpg);
}



.thumb-838a2c278034a922c0d40b0e2e55f25d {
  background-image: url(https://yoneyan.dev/images/free_images/usb_cable.jpg);
}



.thumb-8dec64112290766ab3809556c694a925 {
  background-image: url(https://yoneyan.dev/images/free_images/security_1.jpg);
}



.thumb-484ed57d13b9f85b4b638be541f5214a {
  background-image: url(https://yoneyan.dev/images/free_images/washhouse.png);
}



.thumb-e59428618a2372205006a8614520f8a0 {
  background-image: url(https://yoneyan.dev/images/free_images/monitor.png);
}



.thumb-1ec8df5a38e69cc430d4cd2c7fe3d9c4 {
  background-image: url(https://yoneyan.dev/images/free_images/windows.jpg);
}



.thumb-a125ea2dc298bb5406cd62bb03ef7927 {
  background-image: url(https://yoneyan.dev/images/free_images/music_1.jpg);
}



.thumb-3754dbb55b8f68d19048416c24928174 {
  background-image: url(https://yoneyan.dev/images/free_images/server_1.jpg);
}



.thumb-3552cf81461ead0993aee7921d4ad6c0 {
  background-image: url(https://yoneyan.dev/images/free_images/gmae_1.jpg);
}



.thumb-333da5e9d440c3b78b1282c7882f2cba {
  background-image: url(https://yoneyan.dev/images/free_images/security_1.jpg);
}



.thumb-06d036756ce47c738ce7cca6fdaf756c {
  background-image: url(https://yoneyan.dev/images/free_images/app_1.jpg);
}



.thumb-80054e28951cd84c0035f79a5d0fec3a {
  background-image: url(https://yoneyan.dev/images/free_images/disk.jpg);
}



.thumb-1253d09e2eb935ad2082bb45fa7e1d07 {
  background-image: url(https://yoneyan.dev/images/free_images/remote_game.jpg);
}



.thumb-9af828b5a2a8485404a6d68e6f368194 {
  background-image: url(https://yoneyan.dev/images/free_images/server_1.jpg);
}



.thumb-48d82599c0cf4ccd39536778b2b68ee5 {
  background-image: url(https://yoneyan.dev/images/free_images/iphone_1.jpg);
}



.thumb-7b77983dcefba169a56301c05af4009e {
  background-image: url(https://yoneyan.dev/images/free_images/sim_1.png);
}



.thumb-b96ea13a1a7efc34a7c9b476e97102ba {
  background-image: url(https://yoneyan.dev/images/free_images/sim_1.png);
}



.thumb-d276fa421cdcec208fd9596b17462959 {
  background-image: url(https://yoneyan.dev/images/free_images/software_1.jpg);
}



.thumb-ea44b7843602a1084db58317896b0650 {
  background-image: url(https://yoneyan.dev/images/free_images/wordpress.jpg);
}



.thumb-46d1568338f817eb538cb89ef6183976 {
  background-image: url(https://yoneyan.dev/images/free_images/software_1.jpg);
}



.thumb-8a8b305d93bd4d8cf7b769e4095238fd {
  background-image: url(https://yoneyan.dev/images/free_images/software_1.jpg);
}



.thumb-9ef8692abf2e97f7b7f4a4a614fc35f8 {
  background-image: url(https://yoneyan.dev/images/technology/zenfone2laser_cm/start.png);
}



.thumb-edb10af718a73523b189ef9f893e557e {
  background-image: url(https://yoneyan.dev/images/free_images/game_1.jpg);
}



.thumb-284b0ab8720bd78aa3865b72a4de1d9d {
  background-image: url(https://yoneyan.dev/images/free_images/service.jpg);
}



.thumb-eaebf7017fd5329b4374e4a2abb2a906 {
  background-image: url(https://yoneyan.dev/images/free_images/sega_saturn.jpg);
}



.thumb-84eed77f999363ff5e771ab5de7d7449 {
  background-image: url(https://yoneyan.dev/images/game/hard/sidewinder/sidewinder-precision-pro.jpg);
}



.thumb-023ae6cb896631f3760afb9c056d1d53 {
  background-image: url(https://yoneyan.dev/images/free_images/mic.jpg);
}



.thumb-9b76cb95b433bc11d4a706d29bb631b8 {
  background-image: url(https://yoneyan.dev/images/technology/zenfone2laser_cm/start.png);
}



.thumb-b940cc36f5bc37f632189bd5885110ee {
  background-image: url(https://yoneyan.dev/images/game/hard/kinect/kinect_1.jpg);
}



.thumb-5e1de5bd97387e052525aab2f9ee5233 {
  background-image: url(https://yoneyan.dev/images/game/hard/kinect/kinect_1.jpg);
}



.thumb-1c408b7bedf97e29407786bc1249bbbf {
  background-image: url(https://yoneyan.dev/images/free_images/shopping_1.png);
}



.thumb-788f6e8f468150a7a3b8ff39158deb9b {
  background-image: url(https://yoneyan.dev/images/review/xbox_controller/controller.jpg);
}



.thumb-a75bdae693a11718db7056d1bdabfd73 {
  background-image: url(https://yoneyan.dev/images/free_images/software_1.jpg);
}



.thumb-ff160586a276992f2a242b8b3834f134 {
  background-image: url(https://yoneyan.dev/images/free_images/software_1.jpg);
}





 body { font-family: Lato,YuGothic,'Hiragino Kaku Gothic Pro',Meiryo,sans-serif; } 
 .h-logo { font-family: Lobster, cursive; } 
.l-container { max-width: 40rem; margin: 0 auto; }
    </style>
  </head>

  <body>
    
    <amp-analytics type="googleanalytics" id="analytics1">
      <script type="application/json"> { "vars": { "account": "UA-77706989-10"}, "triggers": { "trackPageview": { "on": "visible", "request": "pageview" } } }
      </script>
    </amp-analytics>
    

    <header class="l-header">
      <div class="l-container">
        <div class="logo">
          <a href="https://yoneyan.dev/">のんびりと生きたい</a>
        </div>
      </div>
    </header>

    <main>
      <div class="l-container">
        
<article class="sn">

  <div class="thumb thumb-8173a5b53ecaf210b93bed9af449d3d6"></div>

  <header class="article-header">
    <h1 class="title">pfsenseでPS4やPS3のNATタイプ3になる際の対処法</h1>

    <ul class="facts">
      <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="2018-01-18T12:01:34JST">Jan 18, 2018</time></li>
      
      <li><i class="fas fa-bookmark" aria-hidden="true"></i><a href="https://yoneyan.dev/post/">POST</a></li>
      
    </ul>

    <aside class="share">
  <a href="https://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fyoneyan.dev%2famp%2fpost%2fwhat-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense%2f&title=pfsense%e3%81%a7PS4%e3%82%84PS3%e3%81%aeNAT%e3%82%bf%e3%82%a4%e3%83%973%e3%81%ab%e3%81%aa%e3%82%8b%e9%9a%9b%e3%81%ae%e5%af%be%e5%87%a6%e6%b3%95" title="はてなブックマーク" class="ht" target="_blank" rel="nofollow">B!</a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fyoneyan.dev%2famp%2fpost%2fwhat-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense%2f&text=pfsense%e3%81%a7PS4%e3%82%84PS3%e3%81%aeNAT%e3%82%bf%e3%82%a4%e3%83%973%e3%81%ab%e3%81%aa%e3%82%8b%e9%9a%9b%e3%81%ae%e5%af%be%e5%87%a6%e6%b3%95&tw_p=tweetbutton" title="Twitterでシェア" class="tw" target="_blank" rel="nofollow"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fyoneyan.dev%2famp%2fpost%2fwhat-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense%2f&t=pfsense%e3%81%a7PS4%e3%82%84PS3%e3%81%aeNAT%e3%82%bf%e3%82%a4%e3%83%973%e3%81%ab%e3%81%aa%e3%82%8b%e9%9a%9b%e3%81%ae%e5%af%be%e5%87%a6%e6%b3%95" title="Facebookでシェア" class="fb" target="_blank" rel="nofollow"><i class="fab fa-facebook" aria-hidden="true"></i></a>
  <a href="https://getpocket.com/edit?url=https%3a%2f%2fyoneyan.dev%2famp%2fpost%2fwhat-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense%2f&title=pfsense%e3%81%a7PS4%e3%82%84PS3%e3%81%aeNAT%e3%82%bf%e3%82%a4%e3%83%973%e3%81%ab%e3%81%aa%e3%82%8b%e9%9a%9b%e3%81%ae%e5%af%be%e5%87%a6%e6%b3%95" title="Pocketに保存" class="pk" target="_blank" rel="nofollow"><i class="fab fa-get-pocket" aria-hidden="true"></i></a>
  <a href="https://social-plugins.line.me/lineit/share?url=https%3a%2f%2fyoneyan.dev%2famp%2fpost%2fwhat-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense%2f" title="LINEでシェア" class="ln" target="_blank" rel="nofollow"><i class="fab fa-line" aria-hidden="true"></i></a>
</aside>

  </header>

  
  <div class="toc">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#natタイプとは">NATタイプとは？</a>
<ul>
<li><a href="#natタイプ1とは">NATタイプ1とは？</a></li>
<li><a href="#natタイプ2とは">NATタイプ2とは？</a></li>
<li><a href="#natタイプ3とは">NATタイプ3とは？</a>
<ul>
<li><a href="#natタイプ何ならいいのか">NATタイプ何ならいいのか？</a></li>
</ul></li>
</ul></li>
<li><a href="#pfsenseの設定していく">pfsenseの設定していく</a>
<ul>
<li><a href="#1-firewall-nat-outboundの設定">1.Firewall-&gt;NAT-&gt;Outboundの設定</a>
<ul>
<li><a href="#outbound-nat-modeの設定">Outbound NAT Modeの設定</a></li>
<li><a href="#mappingsの設定">Mappingsの設定</a></li>
</ul></li>
<li><a href="#2-services-upnp-nat-pmpの設定">2.Services-&gt;UPnP &amp; NAT-PMPの設定</a>
<ul>
<li><a href="#upnp-nat-pmp-settingの設定">UPnP &amp; NAT-PMP　Settingの設定</a></li>
<li><a href="#upnp-access-control-listsの設定">UPnP Access Control Listsの設定</a></li>
</ul></li>
<li><a href="#3-ps4でネットワークの診断を試してみる">3.PS4でネットワークの診断を試してみる</a></li>
</ul></li>
<li><a href="#まとめ">まとめ</a></li>
</ul></li>
</ul>
</nav>
  </div>
  

  <div class="article-body">

<p>最近自作ルーターを構築して、WebGUIで管理できるpfsenseというOSインストールして使っている筆者です。</p>

<p>pfsenseを構築したことで安定性がかなり上がったのですが、一つ問題が発生しました。それはPS3とPS4のオンライン機能です。pfsenseにしたことで、NATタイプ3になってしまい、オンラインで遊ぶ時に支障を来し始めたので、その対処法を紹介させていただきます。</p>

<h2 id="natタイプとは">NATタイプとは？</h2>

<p>PSにはネットワークの判別方法としてNATタイプというものがあります。</p>

<p>NATタイプには以下の種類があります。</p>

<ul>
<li>NATタイプ1</li>
<li>NATタイプ2</li>
<li>NATタイプ3</li>
</ul>

<h3 id="natタイプ1とは">NATタイプ1とは？</h3>

<p>PPPoE接続している際に表示されます。ルーターに接続せずに直で刺している状況です。</p>

<p>普通はルーターに接続しているのでこのような場合はほぼないでしょうｗ</p>

<h3 id="natタイプ2とは">NATタイプ2とは？</h3>

<p>一つのルーターを使ってアドレス変換ができている状況です。</p>

<h3 id="natタイプ3とは">NATタイプ3とは？</h3>

<p>複数のルーターを経由して接続されている状況です。</p>

<p>IPマスカレードで接続している場合でもこの表示が出ます。</p>

<p>大体、この接続の場合はPSNのオンライン機能に一部に制限が発生する場合があります。</p>

<p>自分の場合はパーティーのボイスチャットができなくなるという支障が出ました。</p>

<h4 id="natタイプ何ならいいのか">NATタイプ何ならいいのか？</h4>

<p>NATタイプ1とNATタイプ2であればPSのオンライン機能を支障が起こることなく楽しめます。</p>

<p>NATタイプ3の場合は上でも書いてる通り、オンライン機能の一部に支障をきたすことになります。</p>

<h2 id="pfsenseの設定していく">pfsenseの設定していく</h2>

<h3 id="1-firewall-nat-outboundの設定">1.Firewall-&gt;NAT-&gt;Outboundの設定</h3>

<h4 id="outbound-nat-modeの設定">Outbound NAT Modeの設定</h4>

<figure>
  <amp-img src="https://yoneyan.dev/images/myself/ps4_nat/1.png" alt="" width=1194 height=244 layout="responsive"></amp-img>
  
</figure>

<p>Hybrid Outbound NAT を選択して、Saveしてください。</p>

<h4 id="mappingsの設定">Mappingsの設定</h4>

<figure>
  <amp-img src="https://yoneyan.dev/images/myself/ps4_nat/2.png" alt="" width=1168 height=512 layout="responsive"></amp-img>
  
</figure>

<p>Addをクリックする</p>

<figure>
  <amp-img src="https://yoneyan.dev/images/myself/ps4_nat/3.png" alt="" width=1170 height=811 layout="responsive"></amp-img>
  
</figure>

<p>上の通りに設定する。</p>

<p>Sourceは自分のIPアドレスを設定</p>

<p>入力が終わると、Saveして保存する</p>

<figure>
  <amp-img src="https://yoneyan.dev/images/myself/ps4_nat/4.png" alt="" width=1181 height=140 layout="responsive"></amp-img>
  
</figure>

<p>この通りになっているか確認してApply Settingする。</p>

<h3 id="2-services-upnp-nat-pmpの設定">2.Services-&gt;UPnP &amp; NAT-PMPの設定</h3>

<h4 id="upnp-nat-pmp-settingの設定">UPnP &amp; NAT-PMP　Settingの設定</h4>

<figure>
  <amp-img src="https://yoneyan.dev/images/myself/ps4_nat/5.png" alt="" width=1246 height=874 layout="responsive"></amp-img>
  
</figure>

<p>このように設定します。</p>

<p>注意点としてはLog packetsとDefault Denyを有効にしてください。</p>

<h4 id="upnp-access-control-listsの設定">UPnP Access Control Listsの設定</h4>

<figure>
  <amp-img src="https://yoneyan.dev/images/myself/ps4_nat/6.png" alt="" width=1170 height=462 layout="responsive"></amp-img>
  
</figure>

<p>設定例としてはこんな感じになりますう。</p>

<p>ACL Entriesのところに</p>

<p>allow 88-65535 192.168.0.<sup>190</sup>&frasl;<sub>24</sub> 88-65535</p>

<p> と入れます。 192.168.0.190/24というところにPS4やPS3のIPアドレスを入力してください。 すべての設定が完了すればSaveをクリックして保存してください。</p>

<h3 id="3-ps4でネットワークの診断を試してみる">3.PS4でネットワークの診断を試してみる</h3>

<figure>
  <amp-img src="https://yoneyan.dev/images/myself/ps4_nat/7.png" alt="" width=1024 height=768 layout="responsive"></amp-img>
  
</figure>

<p>NATタイプがタイプ2になっていたら成功です！！</p>

<h2 id="まとめ">まとめ</h2>

<p>こんな感じの設定をすることでNATタイプ2になり、PS3とPS4のオンライン機能が使えるようになります。これでボイスチャットができないようなことは起こりにくくなると思います。</p>

<p>わからないことがあれば答えれる範囲で回答させていただきますので、コメント欄によろしくお願いいたします。</p>
</div>

  <footer class="article-footer">

    <aside class="share">
  <a href="https://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fyoneyan.dev%2famp%2fpost%2fwhat-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense%2f&title=pfsense%e3%81%a7PS4%e3%82%84PS3%e3%81%aeNAT%e3%82%bf%e3%82%a4%e3%83%973%e3%81%ab%e3%81%aa%e3%82%8b%e9%9a%9b%e3%81%ae%e5%af%be%e5%87%a6%e6%b3%95" title="はてなブックマーク" class="ht" target="_blank" rel="nofollow">B!</a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fyoneyan.dev%2famp%2fpost%2fwhat-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense%2f&text=pfsense%e3%81%a7PS4%e3%82%84PS3%e3%81%aeNAT%e3%82%bf%e3%82%a4%e3%83%973%e3%81%ab%e3%81%aa%e3%82%8b%e9%9a%9b%e3%81%ae%e5%af%be%e5%87%a6%e6%b3%95&tw_p=tweetbutton" title="Twitterでシェア" class="tw" target="_blank" rel="nofollow"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fyoneyan.dev%2famp%2fpost%2fwhat-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense%2f&t=pfsense%e3%81%a7PS4%e3%82%84PS3%e3%81%aeNAT%e3%82%bf%e3%82%a4%e3%83%973%e3%81%ab%e3%81%aa%e3%82%8b%e9%9a%9b%e3%81%ae%e5%af%be%e5%87%a6%e6%b3%95" title="Facebookでシェア" class="fb" target="_blank" rel="nofollow"><i class="fab fa-facebook" aria-hidden="true"></i></a>
  <a href="https://getpocket.com/edit?url=https%3a%2f%2fyoneyan.dev%2famp%2fpost%2fwhat-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense%2f&title=pfsense%e3%81%a7PS4%e3%82%84PS3%e3%81%aeNAT%e3%82%bf%e3%82%a4%e3%83%973%e3%81%ab%e3%81%aa%e3%82%8b%e9%9a%9b%e3%81%ae%e5%af%be%e5%87%a6%e6%b3%95" title="Pocketに保存" class="pk" target="_blank" rel="nofollow"><i class="fab fa-get-pocket" aria-hidden="true"></i></a>
  <a href="https://social-plugins.line.me/lineit/share?url=https%3a%2f%2fyoneyan.dev%2famp%2fpost%2fwhat-to-do-when-becoming-nat-type-3-of-ps4-or-ps3-with-pfsense%2f" title="LINEでシェア" class="ln" target="_blank" rel="nofollow"><i class="fab fa-line" aria-hidden="true"></i></a>
</aside>


    <section class="footer">
      <div>
        <nav class="crumb">
          <ol>
            <li><a href="https://yoneyan.dev/"><i class="fas fa-home" aria-hidden="true"></i>TOP</a></li>
            
            <li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="https://yoneyan.dev/post/" itemprop="url"><span itemprop="title">POST</span></a></li>
            
            <li class="active">pfsenseでPS4やPS3のNATタイプ3になる際の対処法</li>
          </ol>
        </nav>
      </div>
    </section>

    
    
    
    <section class="footer">
      <header>
        <a href="https://yoneyan.dev/categories/">CATEGORIES</a>
      </header>
      <div>
        <ul class="terms">
          
          <li><a href="https://yoneyan.dev/categories/setting/">setting</a></li>
          
        </ul>
      </div>
    </section>
    
    
    
    <section class="footer">
      <header>
        <a href="https://yoneyan.dev/tags/">TAGS</a>
      </header>
      <div>
        <ul class="terms">
          
          <li><a href="https://yoneyan.dev/tags/nat%E3%82%BF%E3%82%A4%E3%83%973/">NATタイプ3</a></li>
          
          <li><a href="https://yoneyan.dev/tags/ps4/">ps4</a></li>
          
        </ul>
      </div>
    </section>
    
    
    <amp-ad width="100vw" height="320"
     type="adsense"
     data-ad-client="ca-pub-3354860886584500"
     data-ad-slot="9949467437"
     data-auto-format="rspv"
     data-full-width="">
     <div overflow=""></div>
    </amp-ad>
  </footer>

</article>


<div class="adj">
  <div class="mrow">
    
    <div class="mcol c6">
      <header>Previous Article</header>
      <article class="lism">
  <a href="https://yoneyan.dev/amp/post/2018-01-14-ps4slim-or-ps4pro/">
    <div class="thumb thumb-977970388824334fe4ed36ecf1990186"></div>

    <div class="inner">
      <div class="title">ps4slimとps4proはどっちの方がいいのか？</div>

      <ul class="facts sm">
        <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="14007-01-14T10:30:03JST">Jan 14, 2018</time></li>
        <li><i class="fas fa-bookmark" aria-hidden="true"></i>POST</li>
        
      </ul>

    </div>
  </a>
</article>

    </div>
    
    
    <div class="mcol c6">
      <header>Next Article</header>
      <article class="lism">
  <a href="https://yoneyan.dev/amp/post/2018-01-20-how-to-karaoke-without-delay-on-ps4/">
    <div class="thumb thumb-73433e3db16c9e7b2700f16189366f90"></div>

    <div class="inner">
      <div class="title">PS4で遅延なくカラオケをする方法</div>

      <ul class="facts sm">
        <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="20007-01-20T10:56:41JST">Jan 20, 2018</time></li>
        <li><i class="fas fa-bookmark" aria-hidden="true"></i>POST</li>
        
      </ul>

    </div>
  </a>
</article>

    </div>
    
  </div>
</div>


      </div>
    </main>

    <footer class="l-footer">
      <div class="l-container">
        <p><span class="h-logo">&copy; のんびりと生きたい</span></p>
        <aside>
          <p>Powered by <a href="https://gohugo.io/">Hugo</a>.</p>
          <p><a href="https://github.com/dim0627/hugo_theme_robust">Robust</a> designed by <a href="http://yet.unresolved.xyz/">Daisuke Tsuji</a>.</p>
        </aside>
      </div>
    </footer>

  </body>
</html>
